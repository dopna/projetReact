// Generated by ReScript, PLEASE EDIT WITH CARE

import * as React from "react";
import * as TaskList from "../components/tasks/TaskList.res.mjs";
import * as TaskInput from "../components/tasks/TaskInput.res.mjs";
import * as TaskTable from "../components/tasks/TaskTable.res.mjs";
import * as Belt_Array from "rescript/lib/es6/belt_Array.js";
import * as JsxRuntime from "react/jsx-runtime";

function Tasks(props) {
  var match = React.useState(function () {
        return [];
      });
  var setTasks = match[1];
  var tasks = match[0];
  React.useEffect((function () {
          console.log("init");
        }), []);
  var addTask = function (title, description) {
    var newTask_id = Date.now() | 0;
    var newTask = {
      id: newTask_id,
      title: title,
      description: description,
      isComplete: false
    };
    setTasks(function (tasks) {
          return Belt_Array.concatMany([
                      tasks,
                      [newTask]
                    ]);
        });
  };
  var completeTask = function (index) {
    setTasks(function (tasks) {
          return tasks.map(function (task, i) {
                      if (i === index) {
                        return {
                                id: task.id,
                                title: task.title,
                                description: task.description,
                                isComplete: !task.isComplete
                              };
                      } else {
                        return task;
                      }
                    });
        });
  };
  var removeTask = function (id) {
    setTasks(function (tasks) {
          return tasks.filter(function (task) {
                      return task.id !== id;
                    });
        });
  };
  return JsxRuntime.jsxs("div", {
              children: [
                JsxRuntime.jsxs("header", {
                      children: [
                        JsxRuntime.jsx("div", {
                              children: "Gestion des Tâches",
                              className: "text-lg font-bold"
                            }),
                        JsxRuntime.jsx("nav", {
                              children: JsxRuntime.jsxs("ul", {
                                    children: [
                                      JsxRuntime.jsx("li", {
                                            children: JsxRuntime.jsx("a", {
                                                  children: "Accueil",
                                                  className: "hover:underline",
                                                  href: "#"
                                                })
                                          }),
                                      JsxRuntime.jsx("li", {
                                            children: JsxRuntime.jsx("a", {
                                                  children: "À propos",
                                                  className: "hover:underline",
                                                  href: "#"
                                                })
                                          }),
                                      JsxRuntime.jsx("li", {
                                            children: JsxRuntime.jsx("a", {
                                                  children: "contact",
                                                  className: "hover:underline",
                                                  href: "#"
                                                })
                                          })
                                    ],
                                    className: "flex space-x-4"
                                  })
                            })
                      ],
                      className: "flex items-center justify-between p-4 bg-blue-500 text-white"
                    }),
                JsxRuntime.jsx("h1", {
                      children: "Liste de Tâches",
                      className: "text-3xl font-semibold"
                    }),
                JsxRuntime.jsx(TaskInput.make, {
                      addTask: addTask
                    }),
                JsxRuntime.jsx(TaskList.make, {
                      tasks: tasks,
                      completeTask: completeTask,
                      removeTask: removeTask
                    }),
                JsxRuntime.jsx(TaskTable.make, {
                      tasks: tasks,
                      onModify: (function (param) {
                          
                        }),
                      onDelete: (function (param) {
                          
                        })
                    })
              ],
              className: "p-6"
            });
}

var make = Tasks;

export {
  make ,
}
/* react Not a pure module */
